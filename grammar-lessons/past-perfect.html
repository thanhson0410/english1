<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Past Perfect - Thì Quá Khứ Hoàn Thành</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>✅ Past Perfect</h1>
        <p>Thì Quá Khứ Hoàn Thành</p>
        <nav>
            <ul>
                <li><a href="../index.html">🏠 Trang Chủ</a></li>
                <li><a href="lessons.html">📚 Bài Học</a></li>
                <li><a href="../games/games.html">🎮 Trò Chơi</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section>
            <h2>📖 Định Nghĩa - Definition</h2>
            <div class="definition-box">
                <p><strong>Thì quá khứ hoàn thành (Past Perfect)</strong> diễn tả:</p>
                <ul>
                    <li>Hành động xảy ra trước một hành động khác trong quá khứ</li>
                    <li>Hành động xảy ra trước một thời điểm cụ thể trong quá khứ</li>
                    <li>Hành động đã hoàn thành trước khi có hành động khác</li>
                    <li>Kinh nghiệm đến một thời điểm trong quá khứ</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>📝 Công Thức - Formula</h2>
            <table>
                <thead>
                    <tr>
                        <th>Loại Câu</th>
                        <th>Công Thức</th>
                        <th>Ví Dụ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Khẳng định</td>
                        <td>S + had + V3/Ved</td>
                        <td>I had finished my work before he came<br><em>(Tôi đã hoàn thành công việc trước khi anh ấy đến)</em></td>
                    </tr>
                    <tr>
                        <td>Phủ định</td>
                        <td>S + had + not + V3/Ved</td>
                        <td>She hadn't left when I arrived<br><em>(Cô ấy vẫn chưa đi khi tôi đến)</em></td>
                    </tr>
                    <tr>
                        <td>Nghi vấn</td>
                        <td>Had + S + V3/Ved?</td>
                        <td>Had you eaten dinner before the movie?<br><em>(Bạn đã ăn tối trước khi xem phim chưa?)</em></td>
                    </tr>
                    <tr>
                        <td>WH-question</td>
                        <td>WH + had + S + V3/Ved?</td>
                        <td>Where had you been before?<br><em>(Trước đó bạn đã ở đâu?)</em></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>🕐 Dấu Hiệu Nhận Biết</h2>
            <div class="example-box">
                <h3>Time Signals</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <strong>🔹 Trước khi:</strong>
                        <ul>
                            <li>before (trước khi)</li>
                            <li>by the time (đến lúc)</li>
                            <li>until (cho đến khi)</li>
                            <li>by + thời gian</li>
                        </ul>
                    </div>
                    <div>
                        <strong>🔹 Sau khi:</strong>
                        <ul>
                            <li>after (sau khi)</li>
                            <li>as soon as (ngay khi)</li>
                            <li>when (khi)</li>
                            <li>once (một khi)</li>
                        </ul>
                    </div>
                    <div>
                        <strong>🔹 Kinh nghiệm:</strong>
                        <ul>
                            <li>never ... before (chưa bao giờ... trước đây)</li>
                            <li>the first time (lần đầu tiên)</li>
                            <li>already (đã...rồi)</li>
                            <li>just (vừa mới)</li>
                        </ul>
                    </div>
                    <div>
                        <strong>🔹 Reported Speech:</strong>
                        <ul>
                            <li>He said that he had...</li>
                            <li>She told me she had...</li>
                            <li>I thought you had...</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>🎯 Cách Sử Dụng Chi Tiết</h2>
            <div class="usage-grid">
                <div class="usage-card">
                    <h3>1. Hành động trước hành động khác</h3>
                    <div class="example-box">
                        <p><strong>I had eaten dinner before I watched TV.</strong></p>
                        <p><em>Tôi đã ăn tối trước khi xem TV.</em></p>
                        <small>→ Ăn tối xảy ra trước, xem TV xảy ra sau</small>
                    </div>
                </div>

                <div class="usage-card">
                    <h3>2. Hành động trước thời điểm cụ thể</h3>
                    <div class="example-box">
                        <p><strong>By 6 PM, she had finished all her work.</strong></p>
                        <p><em>Đến 6 giờ chiều, cô ấy đã hoàn thành hết công việc.</em></p>
                        <small>→ Hoàn thành trước 6 giờ chiều</small>
                    </div>
                </div>

                <div class="usage-card">
                    <h3>3. Kinh nghiệm đến thời điểm quá khứ</h3>
                    <div class="example-box">
                        <p><strong>It was the best movie I had ever seen.</strong></p>
                        <p><em>Đó là bộ phim hay nhất tôi từng xem.</em></p>
                        <small>→ Kinh nghiệm đến thời điểm đó</small>
                    </div>
                </div>

                <div class="usage-card">
                    <h3>4. Câu điều kiện loại 3</h3>
                    <div class="example-box">
                        <p><strong>If I had studied harder, I would have passed.</strong></p>
                        <p><em>Nếu tôi học chăm hơn, tôi đã thi đậu rồi.</em></p>
                        <small>→ Điều kiện không có thật trong quá khứ</small>
                    </div>
                </div>

                <div class="usage-card">
                    <h3>5. Reported Speech</h3>
                    <div class="example-box">
                        <p><strong>He said he had lived there for 5 years.</strong></p>
                        <p><em>Anh ấy nói rằng anh ấy đã sống ở đó 5 năm.</em></p>
                        <small>→ Chuyển Present Perfect → Past Perfect</small>
                    </div>
                </div>

                <div class="usage-card">
                    <h3>6. Wish trong quá khứ</h3>
                    <div class="example-box">
                        <p><strong>I wish I had studied abroad.</strong></p>
                        <p><em>Tôi ước gì tôi đã đi du học.</em></p>
                        <small>→ Ước về việc không làm trong quá khứ</small>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>🔗 Cấu Trúc Với Các Liên Từ</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="example-box">
                    <h3>BEFORE</h3>
                    <p><strong>Past Perfect + before + Past Simple</strong></p>
                    <ul>
                        <li>I had finished my homework before I went out.</li>
                        <li>She had left before he arrived.</li>
                    </ul>
                    <p><strong>Past Simple + before + Past Perfect</strong></p>
                    <ul>
                        <li>I went out before I had finished my homework. (❌)</li>
                        <li>→ I went out before finishing my homework. (✅)</li>
                    </ul>
                </div>
                
                <div class="example-box">
                    <h3>AFTER</h3>
                    <p><strong>After + Past Perfect, Past Simple</strong></p>
                    <ul>
                        <li>After I had eaten dinner, I watched TV.</li>
                        <li>After she had studied, she felt confident.</li>
                    </ul>
                    <p><strong>Past Simple + after + Past Simple (cũng được)</strong></p>
                    <ul>
                        <li>I watched TV after I ate dinner.</li>
                    </ul>
                </div>

                <div class="example-box">
                    <h3>BY THE TIME</h3>
                    <p><strong>By the time + Past Simple, Past Perfect</strong></p>
                    <ul>
                        <li>By the time I arrived, they had left.</li>
                        <li>By the time she called, I had gone to bed.</li>
                    </ul>
                </div>

                <div class="example-box">
                    <h3>WHEN</h3>
                    <p><strong>Past Perfect + when + Past Simple</strong></p>
                    <ul>
                        <li>I had just left when it started raining.</li>
                        <li>She had fallen asleep when the phone rang.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>🆚 So Sánh: Past Perfect vs Past Simple</h2>
            <table>
                <thead>
                    <tr>
                        <th>Past Perfect</th>
                        <th>Past Simple</th>
                        <th>Ghi Chú</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>I had eaten before she came<br><em>(Tôi đã ăn trước khi cô ấy đến)</em></td>
                        <td>I ate, then she came<br><em>(Tôi ăn, rồi cô ấy đến)</em></td>
                        <td>Nhấn mạnh thứ tự vs Liệt kê sự kiện</td>
                    </tr>
                    <tr>
                        <td>When I arrived, he had left<br><em>(Khi tôi đến, anh ấy đã đi rồi)</em></td>
                        <td>When I arrived, he left<br><em>(Khi tôi đến, anh ấy đi)</em></td>
                        <td>Đã xảy ra trước vs Xảy ra sau</td>
                    </tr>
                    <tr>
                        <td>I had lived there for 5 years<br><em>(Tôi đã sống ở đó 5 năm)</em></td>
                        <td>I lived there for 5 years<br><em>(Tôi đã sống ở đó 5 năm)</em></td>
                        <td>Đến thời điểm nào đó vs Hoàn thành</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>⚠️ Lưu Ý Đặc Biệt</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div class="warning-box">
                    <h3>🔄 Thứ tự hành động</h3>
                    <p>Past Perfect chỉ cần thiết khi muốn nhấn mạnh thứ tự:</p>
                    <ul>
                        <li>After I ate, I left. (✅)</li>
                        <li>After I had eaten, I left. (✅ - nhấn mạnh)</li>
                    </ul>
                </div>
                
                <div class="warning-box">
                    <h3>📚 Trong câu chuyện</h3>
                    <p>Dùng để kể lại sự kiện đã xảy ra:</p>
                    <ul>
                        <li>The train had already left when I got to the station.</li>
                        <li>She realized she had forgotten her keys.</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <h3>🎯 Với already, just, never</h3>
                    <ul>
                        <li>I had already seen the movie.</li>
                        <li>She had just finished when he called.</li>
                        <li>We had never been there before.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>💡 Bài Tập Thực Hành</h2>
            <div class="exercise-container">
                <h3>Exercise 1: Chia động từ trong ngoặc</h3>
                <div class="exercise-box">
                    <ol>
                        <li>By the time I arrived, they _________ (leave).</li>
                        <li>She _________ (finish) her homework before she _________ (watch) TV.</li>
                        <li>I _________ (never/see) such a beautiful sunset before that day.</li>
                        <li>After he _________ (eat) dinner, he _________ (go) for a walk.</li>
                        <li>When I _________ (get) to the cinema, the movie _________ (already/start).</li>
                    </ol>
                </div>

                <h3>Exercise 2: Sắp xếp câu theo thứ tự đúng</h3>
                <div class="exercise-box">
                    <ol>
                        <li>she / before / had / studied / the exam / passed / she</li>
                        <li>had / when / I / already / left / arrived / they</li>
                        <li>after / he / had / breakfast / eaten / to work / went / he</li>
                    </ol>
                </div>

                <h3>Exercise 3: Chọn đáp án đúng</h3>
                <div class="exercise-box">
                    <ol>
                        <li>When I got home, my family _____ dinner.
                            <br>a) had already had b) already had c) have already had</li>
                        <li>It was the first time she _____ abroad.
                            <br>a) traveled b) had traveled c) has traveled</li>
                        <li>_____ you _____ your homework before you went out?
                            <br>a) Did / finish b) Had / finished c) Have / finished</li>
                    </ol>
                </div>

                <details class="answer-key">
                    <summary>🔑 Đáp Án</summary>
                    <div>
                        <h4>Exercise 1:</h4>
                        <ol>
                            <li>had left</li>
                            <li>had finished / watched</li>
                            <li>had never seen</li>
                            <li>had eaten / went</li>
                            <li>got / had already started</li>
                        </ol>
                        <h4>Exercise 2:</h4>
                        <ol>
                            <li>She had studied before she passed the exam.</li>
                            <li>When I arrived, they had already left.</li>
                            <li>After he had eaten breakfast, he went to work.</li>
                        </ol>
                        <h4>Exercise 3:</h4>
                        <ol>
                            <li>a) had already had</li>
                            <li>b) had traveled</li>
                            <li>b) Had / finished</li>
                        </ol>
                    </div>
                </details>
            </div>
        </section>

        <section>
            <h2>🔗 Liên Kết Nhanh</h2>
            <div class="quick-links">
                <a href="past-continuous.html" class="quick-link">← Past Continuous</a>
                <a href="future-tenses.html" class="quick-link">Future Tenses →</a>
                <a href="../games/past-perfect-game.html" class="quick-link">🎮 Luyện Tập Game</a>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 English Grammar Mastery - Past Perfect</p>
    </footer>
</body>
</html>
